"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[4311,7844],{4311:(i,t,e)=>{e.r(t),e.d(t,{dyte_participant:()=>o});var n=e(5733),a=e(6633),s=e(336),c=e(2906);const o=class{constructor(i){(0,n.r)(this,i),this.pinnedListener=({isPinned:i})=>{this.isPinned=i},this.stageListener=({webinarStageStatus:i})=>{this.isOnStage="ON_STAGE"===i},this.meeting=void 0,this.view="sidebar",this.participant=void 0,this.iconPack=a.d,this.t=(0,s.u)(),this.audioEnabled=!1,this.videoEnabled=!1,this.isPinned=!1,this.isOnStage=!1,this.canDisableParticipantAudio=!1,this.canDisableParticipantVideo=!1,this.canKickParticipant=!1,this.canPinParticipant=!1,this.canAllowParticipantOnStage=!1}connectedCallback(){this.meetingChanged(this.meeting),this.participantChanged(this.participant)}disconnectedCallback(){null!=this.participant&&null!=this.participant.removeListener&&(this.audioUpdateListener&&this.participant.removeListener("audioUpdate",this.audioUpdateListener),this.videoUpdateListener&&this.participant.removeListener("videoUpdate",this.videoUpdateListener),this.participant.removeListener("pinned",this.pinnedListener),this.participant.removeListener("unpinned",this.pinnedListener),this.participant.removeListener("peerStartedPresenting",this.stageListener),this.participant.removeListener("peerStoppedPresenting",this.stageListener))}meetingChanged(i){if(null!=i){const{self:t}=i;this.canDisableParticipantAudio=t.permissions.canAllowParticipantAudio||t.permissions.canDisableParticipantAudio,this.canDisableParticipantVideo=t.permissions.canAllowParticipantVideo||t.permissions.canDisableParticipantVideo,this.canKickParticipant=t.permissions.kickParticipant,this.canPinParticipant=t.permissions.pinParticipant,this.canAllowParticipantOnStage=t.permissions.acceptPresentRequests}}participantChanged(i){if(null!=i){if(this.audioEnabled=i.audioEnabled,this.videoEnabled=i.videoEnabled,this.isPinned=i.isPinned,this.isOnStage="ON_STAGE"===i.webinarStageStatus,this.audioUpdateListener=({audioEnabled:i})=>{this.audioEnabled=i},this.videoUpdateListener=({videoEnabled:i})=>{this.videoEnabled=i},null==i.addListener)return;i.addListener("audioUpdate",this.audioUpdateListener),i.addListener("videoUpdate",this.videoUpdateListener),i.addListener("pinned",this.pinnedListener),i.addListener("unpinned",this.pinnedListener),i.addListener("peerStartedPresenting",this.stageListener),i.addListener("peerStoppedPresenting",this.stageListener)}}render(){var i,t,e,a,s,o,d,r,h;const p=this.canDisableParticipantAudio||this.canDisableParticipantVideo||this.canKickParticipant||this.canPinParticipant,l=(0,c.f)((null===(i=this.participant)||void 0===i?void 0:i.name)||""),P=this.isOnStage||"GROUP_CALL"===(null===(e=null===(t=this.meeting)||void 0===t?void 0:t.meta)||void 0===e?void 0:e.viewType),v=(null===(a=this.meeting)||void 0===a?void 0:a.self.id)===this.participant.id;return(0,n.h)(n.H,null,(0,n.h)("div",{class:"left"},(0,n.h)("dyte-avatar",{participant:this.participant,size:"sm",iconPack:this.iconPack,t:this.t}),(0,n.h)("p",{class:"name",title:l},(0,c.s)(l,16)," ",(null===(s=this.meeting)||void 0===s?void 0:s.self.id)===(null===(o=this.participant)||void 0===o?void 0:o.id)&&this.t("(you)"))),"sidebar"===this.view&&(0,n.h)("div",{class:"right"},P&&(0,n.h)("dyte-icon",{class:{red:!this.audioEnabled},iconPack:this.iconPack,t:this.t,icon:this.audioEnabled?this.iconPack.mic_on:this.iconPack.mic_off}),P&&(0,n.h)("dyte-icon",{class:{red:!this.videoEnabled},iconPack:this.iconPack,t:this.t,icon:this.videoEnabled?this.iconPack.video_on:this.iconPack.video_off}),p&&(0,n.h)("dyte-menu",{iconPack:this.iconPack,t:this.t},(0,n.h)("dyte-button",{variant:"ghost",kind:"icon",slot:"trigger",iconPack:this.iconPack,t:this.t},(0,n.h)("dyte-icon",{class:"more",icon:this.iconPack.more_vertical})),(0,n.h)("dyte-menu-list",{iconPack:this.iconPack,t:this.t},this.canPinParticipant&&P&&(0,n.h)("dyte-menu-item",{onClick:()=>{this.isPinned?this.participant.unpin():this.participant.pin()},iconPack:this.iconPack,t:this.t},(0,n.h)("dyte-icon",{icon:this.isPinned?this.iconPack.pin_off:this.iconPack.pin,slot:"start",iconPack:this.iconPack,t:this.t}),this.isPinned?this.t("unpin"):this.t("pin")),this.canDisableParticipantAudio&&P&&this.audioEnabled&&(0,n.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,onClick:()=>{this.participant.disableAudio()}},(0,n.h)("dyte-icon",{icon:this.iconPack.mic_off,slot:"start"}),this.t("mute")),this.canDisableParticipantVideo&&P&&this.videoEnabled&&(0,n.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,onClick:()=>{this.participant.disableVideo()}},(0,n.h)("dyte-icon",{icon:this.iconPack.video_off,slot:"start",iconPack:this.iconPack,t:this.t}),this.t("participants.turn_off_video")),"WEBINAR"===(null===(d=this.meeting)||void 0===d?void 0:d.meta.viewType)&&this.canAllowParticipantOnStage&&(null===(r=this.participant)||void 0===r?void 0:r.id)!==(null===(h=this.meeting)||void 0===h?void 0:h.self.id)&&(0,n.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,class:this.isOnStage?"red":"",onClick:async()=>{const i=this.participant;this.isOnStage?(i.isPinned&&i.unpin(),await i.removeFromStage()):await i.acceptJoinStageRequest(),this.isOnStage=!this.isOnStage}},(0,n.h)("dyte-icon",{iconPack:this.iconPack,t:this.t,icon:this.isOnStage?this.iconPack.leave_stage:this.iconPack.join_stage,slot:"start"}),this.isOnStage?this.t("stage.remove_from_stage"):this.t("stage.add_to_stage")),!v&&this.canKickParticipant&&(0,n.h)("dyte-menu-item",{iconPack:this.iconPack,t:this.t,class:"red",onClick:()=>{var i,t;null===(i=this.meeting)||void 0===i||i.participants.kick(null===(t=this.participant)||void 0===t?void 0:t.id)}},(0,n.h)("dyte-icon",{icon:this.iconPack.dismiss,slot:"start",iconPack:this.iconPack,t:this.t}),this.t("kick"))))))}static get watchers(){return{meeting:["meetingChanged"],participant:["participantChanged"]}}};o.style=":host{line-height:initial;font-family:var(--dyte-font-family, sans-serif);font-feature-settings:normal;font-variation-settings:normal}p{margin:var(--dyte-space-0, 0px);padding:var(--dyte-space-0, 0px)}:host{position:relative;display:flex;height:var(--dyte-space-14, 56px);align-items:center;justify-content:space-between;cursor:pointer;color:rgb(var(--dyte-colors-text-1000, 255 255 255))}:host dyte-avatar{height:var(--dyte-space-8, 32px);width:var(--dyte-space-8, 32px);font-size:14px}.left{display:flex;align-items:center}.left>*{margin-right:var(--dyte-space-2, 8px)}.left>*:last-child{margin-right:var(--dyte-space-0, 0px)}.right{display:flex;align-items:center;justify-content:flex-end}.right>*{margin-left:var(--dyte-space-2, 8px)}.right>*:first-child{margin-left:var(--dyte-space-0, 0px)}.name{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:1}dyte-icon{height:var(--dyte-space-6, 24px);width:var(--dyte-space-6, 24px)}dyte-icon.red{--tw-text-opacity:1;color:rgba(var(--dyte-colors-danger, 255 45 45) / var(--tw-text-opacity))}dyte-icon.more{cursor:pointer}"}}]);