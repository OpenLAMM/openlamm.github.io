"use strict";(self.webpackChunkdyte_docs=self.webpackChunkdyte_docs||[]).push([[7889],{9608:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>c,contentTitle:()=>p,default:()=>s,frontMatter:()=>o,metadata:()=>m,toc:()=>d});a(7294);var n=a(3905);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))})),t}function i(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}const o={title:"Training",sidebar_position:4},p=void 0,m={unversionedId:"Training/training",id:"Training/training",title:"Training",description:"Prepare Required Checkpoints",source:"@site/docs/tutorial/Training/training.mdx",sourceDirName:"Training",slug:"/Training/",permalink:"/tutorial/Training/",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{title:"Training",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/tutorial/installation/"},next:{title:"Default Benchmark",permalink:"/tutorial/Benchmark/default"}},c={},d=[{value:"Prepare Required Checkpoints",id:"prepare-required-checkpoints",level:2},{value:"LAMM",id:"lamm",level:2},{value:"Octavius",id:"octavius",level:2},{value:"Model Zoo",id:"model-zoo",level:2},{value:"LAMM Model Zoo",id:"lamm-model-zoo",level:3},{value:"Octavius Model Zoo",id:"octavius-model-zoo",level:3}],k={toc:d};function s(t){var{components:e}=t,a=i(t,["components"]);return(0,n.kt)("wrapper",l(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter((function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable})))),n.forEach((function(e){r(t,e,a[e])}))}return t}({},k,a),{components:e,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"prepare-required-checkpoints"},"Prepare Required Checkpoints"),(0,n.kt)("p",null,"We provide pretrained weights of visual encoder and LLM, you can download them from the Table and put them in ",(0,n.kt)("inlineCode",{parentName:"p"},"model_zoo")," directory."),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Model Name"),(0,n.kt)("th",{parentName:"tr",align:null},"Link"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Vicuna"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://github.com/lm-sys/FastChat/tree/main#vicuna-weights"},"Link"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"clip-vit-large-patch14-336"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://huggingface.co/openai/clip-vit-large-patch14-336"},"Link"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"epcl_vit-L_256tokens"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"https://huggingface.co/openlamm/epcl_vit-L_256tokens"},"Link"))))),(0,n.kt)("p",null,"Organize the pretrained weights as below:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"model_zoo\n\u251c\u2500\u2500 vicuna_ckpt\n\u2502   \u251c\u2500\u2500 13b_v0          \n\u2502   \u2514\u2500\u2500 7b_v0\n\u2514\u2500\u2500 epcl_vit-L_256tokens\n")),(0,n.kt)("h2",{id:"lamm"},"LAMM"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"2D Models Training"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"cd src\nsh tools/LAMM/train_lamm2d.sh lamm_2d\n# or\nsh tools/LAMM/train_lamm2d_slurm.sh <YOUR_PARTITION> lamm_2d\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"3D Models Training"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"cd src\nsh tools/LAMM/train_lamm3d.sh lamm_3d\n# or\nsh tools/LAMM/train_lamm3d_slurm.sh <YOUR_PARTITION> lamm_3d\n")))),(0,n.kt)("p",null,"For your reference, GPU memory consumption for different models are shown as follows"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"center"},"Model Size"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Sample Num/GPU"),(0,n.kt)("th",{parentName:"tr",align:"center"},"GPU Memory"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"Vicuna_v0_7B"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1"),(0,n.kt)("td",{parentName:"tr",align:"center"},"~30GB")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"Vicuna_v0_7B"),(0,n.kt)("td",{parentName:"tr",align:"center"},"2"),(0,n.kt)("td",{parentName:"tr",align:"center"},"~46GB")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"Vicuna_v0_13B"),(0,n.kt)("td",{parentName:"tr",align:"center"},"1"),(0,n.kt)("td",{parentName:"tr",align:"center"},"~53GB")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"Vicuna_v0_13B"),(0,n.kt)("td",{parentName:"tr",align:"center"},"2"),(0,n.kt)("td",{parentName:"tr",align:"center"},"~70GB")))),(0,n.kt)("h2",{id:"octavius"},"Octavius"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Image modality only"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"cd src\nsh tools/Octavius/train_octavius_slurm.sh <YOUR_PARTITION> <NUM_GPU> \\\n    config/Octavius/octavius_2d_e4_bs64.yaml octavius_2d_e4_bs64\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Point cloud modality only"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"cd src\nsh tools/Octavius/train_octavius_slurm.sh <YOUR_PARTITION> <NUM_GPU> \\\n    config/Octavius/octavius_3d_e3_bs64.yaml octavius_3d_e3_bs64\n"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Image & point cloud modality joint"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-bash"},"cd src\nsh tools/Octavius/train_octavius_slurm.sh <YOUR_PARTITION> <NUM_GPU> \\\n    config/Octavius/octavius_2d+3d_e6_bs64.yaml octavius_2d+3d_e6_bs64\n")))),(0,n.kt)("h2",{id:"model-zoo"},"Model Zoo"),(0,n.kt)("p",null,"We provide several pretrained LAMM/Octavius checkpoints here:"),(0,n.kt)("h3",{id:"lamm-model-zoo"},"LAMM Model Zoo"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"# Training Samples"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Vision Encoder"),(0,n.kt)("th",{parentName:"tr",align:"center"},"LLM"),(0,n.kt)("th",{parentName:"tr",align:null},"Training Data"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Lora Rank"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Link"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"98K"),(0,n.kt)("td",{parentName:"tr",align:"center"},"CLIP-ViT-L"),(0,n.kt)("td",{parentName:"tr",align:"center"},"Vicuna_v0_7B"),(0,n.kt)("td",{parentName:"tr",align:null},"LAMM-2D daily dialogue & desctiption"),(0,n.kt)("td",{parentName:"tr",align:"center"},"32"),(0,n.kt)("td",{parentName:"tr",align:"center"},(0,n.kt)("a",{parentName:"td",href:"https://huggingface.co/openlamm/lamm_7b_lora32_98k"},"Checkpoints"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"186K"),(0,n.kt)("td",{parentName:"tr",align:"center"},"CLIP-ViT-L"),(0,n.kt)("td",{parentName:"tr",align:"center"},"Vicuna_v0_7B"),(0,n.kt)("td",{parentName:"tr",align:null},"LAMM-2D Instruction Data"),(0,n.kt)("td",{parentName:"tr",align:"center"},"32"),(0,n.kt)("td",{parentName:"tr",align:"center"},(0,n.kt)("a",{parentName:"td",href:"https://huggingface.co/openlamm/lamm_7b_lora32_186k"},"Checkpoints"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"186K"),(0,n.kt)("td",{parentName:"tr",align:"center"},"CLIP-ViT-L"),(0,n.kt)("td",{parentName:"tr",align:"center"},"LLaMA2_chat_7B"),(0,n.kt)("td",{parentName:"tr",align:null},"LAMM-2D Instruction Data"),(0,n.kt)("td",{parentName:"tr",align:"center"},"32"),(0,n.kt)("td",{parentName:"tr",align:"center"},(0,n.kt)("a",{parentName:"td",href:"https://huggingface.co/openlamm/lamm186k_llama2chat7b_lora32"},"Checkpoints"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"98K"),(0,n.kt)("td",{parentName:"tr",align:"center"},"CLIP-ViT-L"),(0,n.kt)("td",{parentName:"tr",align:"center"},"Vicuna_v0_13B"),(0,n.kt)("td",{parentName:"tr",align:null},"LAMM-2D daily dialogue & desctiption"),(0,n.kt)("td",{parentName:"tr",align:"center"},"32"),(0,n.kt)("td",{parentName:"tr",align:"center"},(0,n.kt)("a",{parentName:"td",href:"https://huggingface.co/openlamm/lamm_13b_lora32_98k"},"Checkpoints"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"186K"),(0,n.kt)("td",{parentName:"tr",align:"center"},"CLIP-ViT-L"),(0,n.kt)("td",{parentName:"tr",align:"center"},"Vicuna_v0_13B"),(0,n.kt)("td",{parentName:"tr",align:null},"LAMM-2D Instruction Data"),(0,n.kt)("td",{parentName:"tr",align:"center"},"32"),(0,n.kt)("td",{parentName:"tr",align:"center"},(0,n.kt)("a",{parentName:"td",href:"https://huggingface.co/openlamm/lamm_13b_lora_186k"},"Checkpoints"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"10K"),(0,n.kt)("td",{parentName:"tr",align:"center"},"EPCL-ViT-L"),(0,n.kt)("td",{parentName:"tr",align:"center"},"Vicuna_v0_13B"),(0,n.kt)("td",{parentName:"tr",align:null},"LAMM-3D Instruction Data"),(0,n.kt)("td",{parentName:"tr",align:"center"},"32"),(0,n.kt)("td",{parentName:"tr",align:"center"},(0,n.kt)("a",{parentName:"td",href:"https://huggingface.co/openlamm/lamm3d_13b_lora32_10k"},"Checkpoints"))))),(0,n.kt)("h3",{id:"octavius-model-zoo"},"Octavius Model Zoo"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"center"},"#Samples"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Vision Encoder"),(0,n.kt)("th",{parentName:"tr",align:"left"},"LLM"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Training Data"),(0,n.kt)("th",{parentName:"tr",align:"center"},"Link"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"286k"),(0,n.kt)("td",{parentName:"tr",align:"left"},"CLIP-ViT-L"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Vicuna_v0_13B"),(0,n.kt)("td",{parentName:"tr",align:"left"},"LAMM-2D Instruction Data & COCO-Detection"),(0,n.kt)("td",{parentName:"tr",align:"center"},(0,n.kt)("a",{parentName:"td",href:"https://huggingface.co/openlamm/octavius/blob/main/octavius_2d_e4_bs64.pt"},"ckpt"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"90k"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Obj-As-Scene"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Vicuna_v0_13B"),(0,n.kt)("td",{parentName:"tr",align:"left"},"Scan2Inst"),(0,n.kt)("td",{parentName:"tr",align:"center"},(0,n.kt)("a",{parentName:"td",href:"https://huggingface.co/openlamm/octavius/blob/main/octavius_3d_e3_bs64.pt"},"ckpt"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"center"},"376K"),(0,n.kt)("td",{parentName:"tr",align:"left"},"CLIP-ViT-L & ",(0,n.kt)("br",null)," Obj-As-Scene"),(0,n.kt)("td",{parentName:"tr",align:"left"},"LLaMA2_chat_13B"),(0,n.kt)("td",{parentName:"tr",align:"left"},"LAMM-2D Instruction Data & COCO-Detection & ",(0,n.kt)("br",null)," Scan2Inst"),(0,n.kt)("td",{parentName:"tr",align:"center"},(0,n.kt)("a",{parentName:"td",href:"https://huggingface.co/openlamm/octavius/blob/main/octavius_2d%2B3d_e6_bs64.pt"},"ckpt"))))),(0,n.kt)("p",null,"You can download them and put them into ",(0,n.kt)("inlineCode",{parentName:"p"},"ckpt")," directory for fast evaluation."))}s.isMDXComponent=!0}}]);